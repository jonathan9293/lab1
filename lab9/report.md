---
# Front matter
Язык: ru-RU
Заголовок: "Отчет по лабораторной работе №5"
Название: "Основы интерфейса взаимодействия пользователя с системой Unix на уровне командной строки"
Автор: "Салискте Джонатан Д."
Группа: "НКНбд-01-20"
---

## Цель работы

Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором vi, установленным по умолчанию почти во всех дистрибутивах Linux.

## Ход работы

1. Ознакомились с теоретическим материалом.
2. Выполнили задание №1
3. Выполнили задание №2

## Задание №1

1. Создали каталог с именем ~/work/os/lab06.(см. Рис.1)
2. Перешли во вновь созданный каталог.(см. Рис.1)
3. Вызвали vi и создали файл hello.sh командой `vi hello.sh`
4. Нажали клавишу `i` и ввели следующий текст(см. Рис.2)

```shell
#!/bin/bash
HELL=Hello
function hello {
    LOCAL HELLO=World
echo $HELLO }
echo $HELLO
hello
```

5. Нажали клавишу `Esc` для перехода в командный режим (см. Рис.2)
6. Нажали `:` для перехода в режим последней строки
7. Нажали `wq`, а затем нажали `Enter` для сохранения текста и заверения работы.
8. Сделали файл исполняемым `chmod +x hello.sh`(см. Рис.1)

![](https://github.com/dsshestakov/Lab_09/blob/master/Снимок%20экрана%20от%202021-05-20%2012-14-21.png)
**_Рис.2_**

## Задание №2

1. Вызвали vi на редактирование файла `vi ~/work/os/lab06/hello.sh`
2. Установили курсор в конец слова HELL во второй строке
3. Перешли в режим вставки и заменили его на HELLO. Нажали `Esc` для возврата в командный режим.(см. Рис.3)
4. Установили курсор на 4 строку и стерли слово LOCAL. (см. Рис.3)
5. Перешли в редим вставки и набрали следующий текст: `local`. Нажали `Esc` для возврата в командный режим(см. Рис.3)
6. Установили курсор на последней строке. Вставили после нее строку: `echo $HELLO` (см. Рис.3)
7. Удалили последнюю строку.
8. Ввели `u` для отмены последних изменений. (см. Рис.4)
9. Ввели `:` для перехода в режим последней строки. Далее ввели `wq` для созранения изменений и завершения работы.

## Вывод

Познакомились с операционной системой Linux. Получили практические навыки работы с редактором vi, который встроен практически во все дистрибутивы Linux.

## Контрольные вопросы

1. Командный режим позволяет управлять курсором и вводить команды редактирования.

Режим вставки допускает производить ввод текста. При этом текст не будет восприниматься, как команды редактирования.

Режим последней строки позволяет производить запись файла на диск и выходить из редактора vi. Кроме того, используя этот режим, можно вводить дополнительные команды редактирования.

2. Если необходимо просто выйти из vi (без сохранения выполненных изменений), то необходимо в последней строке набрать символ q (или q!).

3. Команды позиционирования:

0 (ноль) - перейти в начало строки;

$ - перейти в конец строки;

G - перейти в конец файла;

nG - перейти на строку номер n.

4. Редактор vi предполагает, что слово - это строка символов, которая может включать в себя буквы, цифры и символы подчеркивания.

5. 0 (ноль) - перейти в начало строки;

$ - перейти в конец строки.

6. Добавление / вставка текста

а - добавить текст после курсора;

А - добавить текст в конец строки;

i - вставить текст перед курсором;

ni - вставить текст n раз;

I - вставить текст в начало строки.

Вставка строки

o -вставить строку под курсором;

О - вставить строку над курсором.

Удаление текста

x - удалить один символ в буфер;

dw - удалить одно слово в буфер;

d$ - удалить в буфер текст от курсора до конца строки;

d0 - удалить в буфер текст от начала строки до позиции курсора;

dd - удалить в буфер одну строку;

10dd - удалить в буфер 10 строк.

Отмена и повтор произведенных изменений

u - отменить последнее изменение;

. - повторить последнее изменение.

Копирование текста в буфер

Y - скопировать строку в буфер;

nY - скопировать n строк в буфер;

yw - скопировать слово в буфер;

Вставка текста из буфера

p - вставить текст из буфера после курсора;

P - вставить текст из буфера перед курсором.

Замена текста

cw - заменить слово;

n cw - заменить n слов;

c$ - заменить текст от курсора до конца строки;

r - заменить слово;

R - заменить текст.

Поиск текста

/ <текст> - произвести поиск вперед по тексту указанной строки символов <текст>;

? <текст> - произвести поиск назад по тексту указанной строки символов <текст>.

7. c$ - заменить текст от курсора до конца строки.

8. u - отменить последнее изменение.

9. Копирование и перемещение текста

:n,m d - уничтожить строки с n по m, пример: : 3,8d;

: i,j m k - переместить строки с i по j , начиная со строки k, пример: : 4,9m12;

: i,j t k - копировать строки с i по j на строку k, пример: : 2,5 t 13»

: i,j w <имя*файла> - записать строки с i по j в файл с именем <имя*файла>, пример: : 5,9 <имя \_файла>;

Запись в файл и выход из редактора

:w - записать измененный текст в файл на диске, не выходя из Vi;

:w <newfile> - записать измененный текст в новый файл с именем <newfile>;

:w! <имя*файла> - записать измененный текст в файл с именем<имя*файла> ;

:wq - записать изменения в файл и выйти из Vi;

:q - выйти из редактора Vi;

:q! - выйти из редактора без записи;

:e! - вернуться в командный режим, отменив все изменения, произведенные со времени последней записи.

10. $ - перемещает курсор в конец строки.

11. Опции редактора Vi позволяют настроить рабочую среду. Для задания опций используется команда set (в режиме последней строки):

: set all - вывести полный список опций;

: set nu - вывести номера строк;

: set list - вывести невидимые символы;

: set ic - не учитывать при поиске, является ли символ прописным или строчным.

12. Нажатие клавиши ESC всегда переводит Vi в командный режим). Если вы нажмете клавишу ESC, находясь в командном режиме, машина напомнит вам об этом, подав звуковой сигнал.

13. Командный –>вставки– >последняя строка (командная строка)
